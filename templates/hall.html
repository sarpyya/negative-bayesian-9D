<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>üî• HALL OF SHAME - Bayesian Negative 9D</title>
    <style>
      body {
        background: #000;
        color: #00ff41;
        font-family: "Courier New", monospace;
        padding: 40px;
      }
      h1 {
        color: #ff0033;
        text-align: center;
        font-size: 3rem;
        text-shadow: 0 0 20px #ff0033;
      }
      .tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 30px 0;
      }
      .tab {
        padding: 10px 20px;
        background: #111;
        border: 1px solid #333;
        color: #888;
        cursor: pointer;
        transition: all 0.3s;
      }
      .tab:hover {
        background: #222;
        color: #00ffff;
      }
      .tab.active {
        background: #ff0033;
        color: #fff;
        border-color: #ff0033;
      }
      .ranking-section {
        display: none;
      }
      .ranking-section.active {
        display: block;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th,
      td {
        border: 1px solid #333;
        padding: 15px;
        text-align: left;
      }
      th {
        background: #111;
        color: #ffff00;
      }
      .rank {
        color: #ff0033;
        font-size: 1.8rem;
        font-weight: bold;
      }
      .horror {
        color: #ff0033;
        font-size: 1.4rem;
        font-weight: bold;
      }
      .modo {
        color: #ffd700;
      }
      a {
        color: #00ffff;
        text-decoration: none;
      }
      a:hover {
        text-shadow: 0 0 10px #00ffff;
      }
      .back {
        display: block;
        text-align: center;
        margin: 30px;
        font-size: 1.2rem;
      }
      .mode-emoji {
        font-size: 1.5rem;
        margin-right: 10px;
      }
    </style>
  </head>
  <body>
    <a href="/" class="back">‚¨Ö VOLVER AL ABISMO</a>
    <h1>üî• HALL OF SHAME üî•</h1>
    <p style="text-align: center; color: #888">
      Los peores abismos calculados ‚Ä¢ Rankings por Modo de Consciencia
    </p>

    <div class="tabs">
      <div class="tab active" onclick="showRanking('all')">üåå TODOS</div>
      <div class="tab" onclick="showRanking('MODO BESTIA')">üëπ BESTIA</div>
      <div class="tab" onclick="showRanking('MODO JUSTICE')">‚öñÔ∏è JUSTICE</div>
      <div class="tab" onclick="showRanking('NI√ëO_WOWO')">ü§™ WOWO</div>
      <div class="tab" onclick="showRanking('CHILL')">üßä CHILL</div>
      <div class="tab" onclick="showRanking('DOLPHIN')">üê¨ DOLPHIN</div>
    </div>

    <div id="all" class="ranking-section active">
      <h2 style="color:#00ffff;text-align:center;">üèÜ TOP 50 ABSOLUTO</h2>
      <table>
        <thead>
          <tr>
            <th>RANK</th>
            <th>HORROR TOTAL</th>
            <th>MODO</th>
            <th>SEED</th>
            <th>TOP 3 HORRORES</th>
            <th>FECHA</th>
            <th>VER</th>
          </tr>
        </thead>
        <tbody>
          {% for run in runs %}
          <tr>
            <td class="rank">#{{ loop.index }}</td>
            <td class="horror">{{ "%.0f"|format(run.horror_total) }}</td>
            <td class="modo">{{ run.modo }}</td>
            <td>{{ run.seed }}</td>
            <td>
              {% for node in run.top_nodes[:3] %}
              <div>[{{ "%.0f"|format(node.horror) }}] {{ node.label }}</div>
              {% endfor %}
            </td>
            <td>{{ run.timestamp[:10] }} {{ run.timestamp[11:16] }}</td>
            <td>
              <a href="/visualize?seed={{ run.seed }}" target="_blank"
                >üëÅ VER ABISMO</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    {% for modo in ['MODO BESTIA', 'MODO JUSTICE', 'NI√ëO_WOWO', 'CHILL', 'DOLPHIN'] %}
    <div id="{{ modo }}" class="ranking-section">
      <h2 style="color:#00ffff;text-align:center;">
        {% if modo == 'MODO BESTIA' %}üëπ{% elif modo == 'MODO JUSTICE' %}‚öñÔ∏è{% elif modo == 'NI√ëO_WOWO' %}ü§™{% elif modo == 'CHILL' %}üßä{% else %}üê¨{% endif %}
        TOP {{ modo }}
      </h2>
      <table>
        <thead>
          <tr>
            <th>RANK</th>
            <th>HORROR TOTAL</th>
            <th>SEED</th>
            <th>TOP 3 HORRORES</th>
            <th>FECHA</th>
            <th>VER</th>
          </tr>
        </thead>
        <tbody>
          {% for run in runs %}
          {% if modo in run.modo %}
          <tr>
            <td class="rank">#{{ loop.index }}</td>
            <td class="horror">{{ "%.0f"|format(run.horror_total) }}</td>
            <td>{{ run.seed }}</td>
            <td>
              {% for node in run.top_nodes[:3] %}
              <div>[{{ "%.0f"|format(node.horror) }}] {{ node.label }}</div>
              {% endfor %}
            </td>
            <td>{{ run.timestamp[:10] }} {{ run.timestamp[11:16] }}</td>
            <td>
              <a href="/visualize?seed={{ run.seed }}" target="_blank"
                >üëÅ VER ABISMO</a
              >
            </td>
          </tr>
          {% endif %}
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}

    <script>
      function showRanking(mode) {
        // Hide all sections
        document.querySelectorAll('.ranking-section').forEach(section => {
          section.classList.remove('active');
        });
        
        // Remove active from all tabs
        document.querySelectorAll('.tab').forEach(tab => {
          tab.classList.remove('active');
        });
        
        // Show selected section
        document.getElementById(mode).classList.add('active');
        
        // Activate clicked tab
        event.target.classList.add('active');
      }
    </script>
  </body>
</html>
